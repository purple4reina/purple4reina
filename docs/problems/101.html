<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      101 &middot; Rey Abolofia
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/poole.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/syntax.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://purple4reina.github.io//public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://purple4reina.github.io//public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-1a">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Rey Abolofia
        </a>
      </h1>
      <p class="lead">mathematical and programmatic musings with a few cats</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://purple4reina.github.io/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
      

      <a class="sidebar-nav-item" href="https://github.com/purple4reina">GitHub</a>
      <a class="sidebar-nav-item" href="https://www.linkedin.com/in/rabolofia/">LinkedIn</a>
    </nav>

    <p class="sidebar-copyright">&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">101</h1>
  <h2 id="comments">Comments</h2>

<p>Wow! It’s been a really really long time since I’ve completed one of these
problems! Sure is good to be back. This is a problem I’ve been thinking about
for ages and ages, probably about 2 years. I finally found the time and energy
to sit down and make it happen.</p>

<p>I used the numpy package for this one. Until now I’ve tried to stay away from
using python packages for these problems. But the thing is, if it works, use
it. What was nice about the numpy package is that it has linear algebra tools.
I knew I needed to solve a system of linear equations and doing a quick google
search reminded me that linear algebra makes this a snap. It took a bit to
figure out how to build the matrixes. Especially the <code>coefs</code> matrix was very
tough because it involved a list comprehension within a list comprehension.</p>

<h2 id="code">Code</h2>

<pre><code class="language-python">#!/usr/bin/python

import numpy


def generating_function(n):
    """
    Generating function as given in the problem
    """
    return 1 - n + n**2 - n**3 + n**4 - n**5 + n**6 - n**7 + n**8 - n**9 + n**10


def OP(fn, k, n):
    """
    From the problem: "We shall define OP(k, n) to be the nth term of the
    optimum polynomial generating function for the first k terms of a
    sequence."

    Adds in the fn (generating function) arg
    """
    # First we need to solve a system of linear equations so we can find the
    # optimum polynomial generating function. This means putting in values of n
    # to the generating function so we can solve for the coefficients.
    coefs = numpy.array(
        [[row ** exp for exp in range(k)[::-1]] for row in range(1, k + 1)]
    )

    ans = numpy.array([fn(i) for i in range(1, k + 1)])

    opt_poly_gen_fn_coefs = numpy.linalg.solve(coefs, ans).tolist()

    # return opt poly at n
    val = 0
    for exp, coef in enumerate(opt_poly_gen_fn_coefs[::-1]):
        val += (n ** exp) * coef

    return val


if __name__ == '__main__':
    total_FITs = 0
    for k in xrange(1, 11):
        FIT = OP(generating_function, k, k + 1)
        total_FITs += FIT

    print total_FITs
</code></pre>

</div>

    </div>

  </body>
</html>
