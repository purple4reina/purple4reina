<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      231 &middot; Rey Abolofia
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/poole.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/syntax.css">
  <link rel="stylesheet" href="https://purple4reina.github.io//public/css/hyde.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://purple4reina.github.io//public/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="https://purple4reina.github.io//public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-1a">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/">
          Rey Abolofia
        </a>
      </h1>
      <p class="lead">mathematical and programmatic musings with a few cats</p>
    </div>

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="https://purple4reina.github.io/">Home</a>

      

      
      
        
          
        
      
        
      
        
      
        
      

      <a class="sidebar-nav-item" href="https://github.com/purple4reina">GitHub</a>
      <a class="sidebar-nav-item" href="https://www.linkedin.com/in/rabolofia/">LinkedIn</a>
    </nav>

    <p class="sidebar-copyright">&copy; 2021. All rights reserved.</p>
  </div>
</div>


    <div class="content container">
      <div class="page">
  <h1 class="page-title">231</h1>
  <h2 id="comments">Comments</h2>

<p>For this one I just used a sieve to find the divisors of all numbers less than
n.  The solution will be just like the normal equation for binomeal
coefficients but replace multiplication with addition and division with
subtraction.  Runs in about 2.7 seconds.</p>

<h2 id="code">Code</h2>

<pre><code class="language-python">def solve(n, k):
    sieve = [0] * (n + 1)
    for p, iscom in enumerate(sieve):
        if iscom or p &lt; 2:
            continue
        num = p
        while num &lt;= n:
            m = num // p
            e = 1
            while m % p == 0:
                m //= p
                e += 1
            sieve[num] += p * e
            num += p

    total = 0
    for l in range(n - k + 1, n + 1):
        total += sieve[l]
    for l in range(1, k + 1):
        total -= sieve[l]
    return total

if __name__ == '__main__':
    import sys
    n = eval(sys.argv[1])
    k = eval(sys.argv[2])
    print(solve(n, k))
</code></pre>

<h2 id="tests">Tests</h2>

<pre><code class="language-python">import pytest
from problem import solve

_test_solve = (
        (10, 0, 0),
        (10, 1, 7),
        (10, 2, 11),
        (10, 3, 14),
        (10, 4, 17),
        (10, 5, 17),
        (10, 6, 17),
        (10, 7, 14),
        (10, 8, 11),
        (10, 9, 7),
        (10, 10, 0),
        (100, 0, 0),
        (100, 1, 14),
        (100, 2, 29),
        (100, 3, 42),
        (100, 4, 135),
        (100, 5, 143),
        (100, 6, 162),
        (100, 7, 204),
        (100, 8, 232),
        (100, 9, 253),
        (100, 10, 266),
        (100, 11, 268),
        (100, 12, 350),
        (100, 13, 354),
        (100, 14, 377),
        (100, 15, 414),
)

@pytest.mark.parametrize('n,k,expect', _test_solve)
def test_solve(n, k, expect):
    assert expect == solve(n, k)
</code></pre>

</div>

    </div>

  </body>
</html>
